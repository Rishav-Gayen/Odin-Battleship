(()=>{"use strict";let t=0,e=0;const s=(t,e)=>{const s=document.querySelector(".gamesboard-container"),n=document.createElement("div");n.classList.add("game-board"),n.style.backgroundColor=t,n.id=e;for(let t=0;t<100;t++){const e=document.createElement("div");e.classList.add("block"),e.id=t,n.appendChild(e)}s.appendChild(n)};function n(t,e){const s=document.querySelectorAll(`#${t} div`),o=10;let a,c=Math.random()<.5,r=Math.floor(Math.random()*o*o);a=c?r<=100-e.length?r:100-e.length:r<=100-o*e.length?r:r-e.length*o+o;let l,i=[];for(let t=0;t<e.length;t++)c?i.push(s[Number(a)+t]):i.push(s[Number(a)+10*t]);c?i.every(((t,e)=>{l=i[0].id%o!=o-(i.length-(e+1))})):i.every(((t,e)=>{l=i[0].id<o*e+1+90}));const d=i.every((t=>!t.classList.contains("taken")));l&&d?i.forEach((t=>{t.classList.add(e.name),t.classList.add("taken")})):n(t,e)}function o(){const s=document.querySelector(".game-info");17===t?(document.querySelector(".gamesboard-container").style.pointerEvents="none",s.textContent="You Won"):17===e&&(document.querySelector(".gamesboard-container").style.pointerEvents="none",s.textContent="Computer Won")}function a(){const t=document.querySelectorAll("#player .block"),s=Array.from(t).filter((t=>!t.classList.contains("hit")&&!t.classList.contains("miss"))),n=document.querySelector("#computer");if(n.style.pointerEvents="none",0===s.length)return;const a=s[Math.floor(Math.random()*s.length)];a.classList.contains("destroyer")||a.classList.contains("carrier")||a.classList.contains("submarine")||a.classList.contains("patrol-boat")||a.classList.contains("battleship")?(a.classList.add("hit"),e+=1):a.classList.add("miss"),a.style.pointerEvents="none",n.style.pointerEvents="auto",o()}class c{constructor(t,e){this.name=t,this.length=e}}const r=[new c("destroyer",3),new c("submarine",3),new c("patrol-boat",2),new c("carrier",5),new c("battleship",4)];s("yellow","player"),s("pink","computer");const l=document.querySelector(".randomize-button"),i=document.querySelector(".start-button"),d=document.querySelector(".game-info"),u=document.querySelector(".restart-game");u.style.pointerEvents="none";for(let t=0;t<r.length;t++)n("computer",r[t]);document.querySelectorAll("#computer .block").forEach((t=>{(t.classList.contains("destroyer")||t.classList.contains("carrier")||t.classList.contains("submarine")||t.classList.contains("patrol-boat")||t.classList.contains("battleship"))&&(t.classList.add("hide"),t.style.border="1px solid #ccc")})),r.forEach((t=>{n("player",t)})),l.addEventListener("click",(()=>{const t=document.querySelectorAll("#player div");Array.from(t).forEach((t=>{t.className="block"})),r.forEach((t=>{n("player",t)}))})),i.addEventListener("click",(()=>{d.textContent="Game Started!",l.style.pointerEvents="none",i.style.pointerEvents="none",document.querySelectorAll("#computer .block").forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("destroyer")||e.classList.contains("carrier")||e.classList.contains("submarine")||e.classList.contains("patrol-boat")||e.classList.contains("battleship")?(e.classList.add("hit"),e.classList.remove("hide"),t+=1):e.classList.add("miss"),e.style.pointerEvents="none",setTimeout(a,500),o()}))})),u.style.pointerEvents="auto"})),u.addEventListener("click",(()=>{window.location.reload()}))})();